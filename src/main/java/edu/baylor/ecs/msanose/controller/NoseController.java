package edu.baylor.ecs.msanose.controller;

import edu.baylor.ecs.msanose.model.SharedIntimacy;
import edu.baylor.ecs.msanose.model.context.*;
import edu.baylor.ecs.msanose.model.hardcodedEndpoint.HardcodedEndpoint;
import edu.baylor.ecs.msanose.model.hardcodedEndpoint.HardcodedEndpointType;
import edu.baylor.ecs.msanose.service.*;
import edu.baylor.ecs.rad.context.RequestContext;
import edu.baylor.ecs.rad.context.ResponseContext;
import edu.baylor.ecs.rad.context.RestEntityContext;
import edu.baylor.ecs.rad.context.RestFlowContext;
import edu.baylor.ecs.rad.model.RestEntity;
import edu.baylor.ecs.rad.model.RestFlow;
import lombok.AllArgsConstructor;
import lombok.extern.slf4j.Slf4j;
import org.apache.tomcat.jni.Time;
import org.springframework.web.bind.annotation.*;

import java.util.HashMap;
import java.util.List;
import java.util.Map;
import java.util.Set;
import java.util.stream.Collectors;

@Slf4j
@RestController
@RequestMapping("/api/v1")
@AllArgsConstructor
public class NoseController {

    private final APIService apiService;
    private final LibraryService libraryService;
    private final PersistencyService persistencyService;
    private final ESBService esbService;
    private final TooManyStandardsService tooManyStandardsService;
    private final RestService restDiscoveryService;
    private final CyclicDependencyService cyclicDependencyService;
    private final EntityService entityService;
    private final WrongCutsService wrongCutsService;
    private final GreedyService greedyService;

    @CrossOrigin(origins = "*")
    @RequestMapping(path = "/", method = RequestMethod.POST, produces = "application/json; charset=UTF-8", consumes = {"text/plain", "application/*"})
    public String getHandshake(){
        return "Hello from [NoseController]";
    }

    @CrossOrigin(origins = "*")
    @RequestMapping(path = "/report", method = RequestMethod.POST, produces = "application/json; charset=UTF-8", consumes = {"text/plain", "application/*"})
    public ApplicationSmellsContext getReport(@RequestBody RequestContext request) throws Exception{
        ApplicationSmellsContext context = new ApplicationSmellsContext();
        Map<String, Long> times = new HashMap<>();

        long curr = System.currentTimeMillis();
        ResponseContext responseContext = restDiscoveryService.generateResponseContext(request);
        long now = System.currentTimeMillis();
        times.put("Bytecode Analysis", now - curr);   //processing time

        //Done
        curr = System.currentTimeMillis();
        context.setUnversionedAPIContext(getApis(request));
        now = System.currentTimeMillis();
        times.put("Unversioned API", now - curr);

        curr = System.currentTimeMillis();
        context.setSharedLibraryContext(getSharedLibraries(request));
        now = System.currentTimeMillis();
        times.put("Shared Library", now - curr);

        curr = System.currentTimeMillis();
        context.setWrongCutsContext(getWrongCuts(request));
        now = System.currentTimeMillis();
        times.put("Wrong Cuts", now - curr);

        //Done
        curr = System.currentTimeMillis();
        context.setHardCodedEndpointsContext(getHardcodedEndpoints(request));
        now = System.currentTimeMillis();
        times.put("Hardcoded Enpoints", now - curr);

        curr = System.currentTimeMillis();
        context.setCyclicDependency(getCyclicDependency(request));
        now = System.currentTimeMillis();
        times.put("Cyclic Dependency", now - curr);

        //Done
        curr = System.currentTimeMillis();
        context.setSharedPersistencyContext(getSharedPersistency(request));
        now = System.currentTimeMillis();
        times.put("Shared Persistency", now - curr);

        curr = System.currentTimeMillis();
        context.setEsbContext(getESBUsage(request));
        now = System.currentTimeMillis();
        times.put("ESB", now - curr);

        curr = System.currentTimeMillis();
        context.setAPIGateway(getNoAPIGateway(request));
        now = System.currentTimeMillis();
        times.put("API Gateway", now - curr);

        //Done
        curr = System.currentTimeMillis();
        context.setInappropriateServiceIntimacyContext(getInappropriateServiceIntimacy(request));
        now = System.currentTimeMillis();
        times.put("ISI", now - curr);

        //Done
        curr = System.currentTimeMillis();
        context.setTooManyStandardsContext(getTooManyStandards(request));
        now = System.currentTimeMillis();
        times.put("Too Many Standards", now - curr);

        curr = System.currentTimeMillis();
        context.setMicroservicesGreedyContext(getMicroservicesGreedy(request));
        now = System.currentTimeMillis();
        times.put("Microservice Greedy", now - curr);

        context.setTimes(times);

        return context;
    }

    //Smell 5.10 API Versioning from refPaper#3
    @CrossOrigin(origins = "*")
    @RequestMapping(path = "/apis", method = RequestMethod.POST, produces = "application/json; charset=UTF-8", consumes = {"text/plain", "application/*"})
    public UnversionedAPIContext getApis(@RequestBody RequestContext request){
        List<APIContext> apis = apiService.getAPIs(request.getPathToCompiledMicroservices());
        UnversionedAPIContext unversionedAPIContext = new UnversionedAPIContext(apiService.getAPIs(request.getPathToCompiledMicroservices()).stream()
                .map(APIContext::getPath)
                .filter(api -> !apiService.isVersioned(api))   //filter เอาเฉพาะ  uri ที่ไม่ตรง regex: /มี0-1ตัวก่อน api/v ตามด้วยตัวเลขอย่างน้อย 1 ตัว
                .collect(Collectors.toSet()));
        //Calculate base metric
        double ratioOfNonVersionedAPIs = 0;
        if (apis.size()!=0) {
            ratioOfNonVersionedAPIs = Double.valueOf(unversionedAPIContext.getCount())/Double.valueOf(apis.size());
        }
        unversionedAPIContext.setRatioOfNonVersionedAPIs(ratioOfNonVersionedAPIs);
        log.info("totalApiInSystem: " + apis.size());
        log.info("ratioOfNonVersionedAPIs: " + ratioOfNonVersionedAPIs);
        log.info("===================================================");
        return unversionedAPIContext;
    }

    @CrossOrigin(origins = "*")
    @RequestMapping(path = "/sharedLibraries", method = RequestMethod.POST, produces = "application/json; charset=UTF-8", consumes = {"text/plain", "application/*"})
    public SharedLibraryContext getSharedLibraries(@RequestBody RequestContext request) throws Exception {
        return libraryService.getSharedLibraries(request);
    }

    @CrossOrigin(origins = "*")
    @RequestMapping(path = "/wrongCuts", method = RequestMethod.POST, produces = "application/json; charset=UTF-8", consumes = {"text/plain", "application/*"})
    public WrongCutsContext getWrongCuts(@RequestBody RequestContext request){
        return wrongCutsService.getWrongCuts(request);
    }

    @CrossOrigin(origins = "*")
    @RequestMapping(path = "/hardcodedEndpoints", method = RequestMethod.POST, produces = "application/json; charset=UTF-8", consumes = {"text/plain", "application/*"})
    public HardCodedEndpointsContext getHardcodedEndpoints(@RequestBody RequestContext request){
        HardCodedEndpointsContext hardCodedEndpointsContext = new HardCodedEndpointsContext();
        ResponseContext responseContext = restDiscoveryService.generateResponseContext(request);
        int totalEndpointInSystem = 0;

        for(RestEntityContext restEntityContext : responseContext.getRestEntityContexts()){
            for(RestEntity restEntity : restEntityContext.getRestEntities()){

                /*  restEntity example
                --------------- index 0 ---------------
                RestEntity(isClient=false, url=/updateProfile, applicationName=null, ribbonServerName=null, resourcePath=/Users/sermsook.pul/acm-core-service-2/core-service-web/target/core-service-web-4.0.27.jar, className=com.tmn.core.controller.TmnProfileController, methodName=updateProfile, returnType=com.tmn.core.api.message.StandardBizResponse, path=/tmn-profile/updateProfile, httpMethod=POST, pathParams=null, queryParams=null, consumeType=null, produceType=null)
                --------------- index 1 ---------------
                RestEntity(isClient=true, url={0}, applicationName=null, ribbonServerName=null, resourcePath=/Users/sermsook.pul/acm-core-service-2/core-service-web/target/core-service-web-4.0.27.jar, className=com.tmn.core.client.utiba.rest.AdjustmentRestRequestor, methodName=executeRequest, returnType=java.lang.Object, path=/, httpMethod=GET, pathParams=null, queryParams=null, consumeType=null, produceType=null)
                 --------------- index 2 ---------------
                RestEntity(isClient=true, url={0}, applicationName=null, ribbonServerName=null, resourcePath=/Users/sermsook.pul/acm-core-service-2/core-service-web/target/core-service-web-4.0.27.jar, className=com.tmn.core.client.utiba.rest.BuyRestRequestor, methodName=executeRequest, returnType=java.lang.Object, path=/, httpMethod=GET, pathParams=null, queryParams=null, consumeType=null, produceType=null)
                 */

                if(restEntity.isClient()){   //ถ้าเป็น client ใน rest template จะ get url มาเพื่อ check hardcode ตาม regex ของ PORT กับ IP
                    String url = restEntity.getUrl();
                    totalEndpointInSystem++;
                    if(url.matches(".*:[0-9]{1,5}.*")){  //regex PORT .ตามด้วยอะไรก็ได้หรือไม่มีก็ได้:ตามด้วยตัวเลข 0-9 ตั้งแต่ 1-5 ตัว.ตามด้วยอะไรก็ได้หรือไม่มีก็ได้
                        hardCodedEndpointsContext.addHardcodedEndpoint(new HardcodedEndpoint(restEntity, HardcodedEndpointType.PORT));
                    }

                    if(url.matches(".*[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}.*")){ //regex เช่น  .ตามด้วยอะไรก็ได้หรือไม่มีก็ได้127.0.0.1.ตามด้วยอะไรก็ได้หรือไม่มีก็ได้
                        hardCodedEndpointsContext.addHardcodedEndpoint(new HardcodedEndpoint(restEntity, HardcodedEndpointType.IP));
                    }
                }
            }
        }
        double ratioOfHardCodedEndpoints = 0;
        if (totalEndpointInSystem != 0) {
            ratioOfHardCodedEndpoints = hardCodedEndpointsContext.getTotalHardcodedEndpoints()/totalEndpointInSystem;
        }
        log.info("totalEndpointInSystem: " +totalEndpointInSystem);
        log.info("ratioOfHardCodedEndpoints: " +ratioOfHardCodedEndpoints);
        log.info("====================================================");
        hardCodedEndpointsContext.setRatioOfHardCodedEndpoints(ratioOfHardCodedEndpoints);
        return hardCodedEndpointsContext;
    }

    @CrossOrigin(origins = "*")
    @RequestMapping(path = "/cyclicDependency", method = RequestMethod.POST, produces = "application/json; charset=UTF-8", consumes = {"text/plain", "application/*"})
    public boolean getCyclicDependency(@RequestBody RequestContext request){
        return cyclicDependencyService.getCyclicDependencies(request);
    }

    @CrossOrigin(origins = "*")
    @RequestMapping(path = "/sharedPersistency", method = RequestMethod.POST, produces = "application/json; charset=UTF-8", consumes = {"text/plain", "application/*"})
    public SharedPersistencyContext getSharedPersistency(@RequestBody RequestContext request){
        return persistencyService.getSharedPersistency(request);
    }

    //มีการใช้ esb ในการ communicate กันของ microservice จะเพิ่มความซํับซ้อนให้กับระบบ
    @CrossOrigin(origins = "*")
    @RequestMapping(path = "/esbUsage", method = RequestMethod.POST, produces = "application/json; charset=UTF-8", consumes = {"text/plain", "application/*"})
    public ESBContext getESBUsage(@RequestBody RequestContext request) {
        return esbService.getESBContext(request);
    }

    @CrossOrigin(origins = "*")
    @RequestMapping(path = "/noAPIGateway", method = RequestMethod.POST, produces = "application/json; charset=UTF-8", consumes = {"text/plain", "application/*"})
    public boolean getNoAPIGateway(@RequestBody RequestContext request){
        // Get all connections
        ResponseContext responseContext = restDiscoveryService.generateResponseContext(request);

        /*
        responseContext example   (microservice แต่ละตัว)

        RestEntityContext(resourcePath=/Users/sermsook.pul/acm-core-service-2/core-service-api/target/core-service-api-4.0.27.jar, restEntities=[])
        RestEntityContext(resourcePath=/Users/sermsook.pul/acm-core-service-2/core-service-client/target/core-service-client-4.0.27.jar, restEntities=[])
        RestEntityContext(resourcePath=/Users/sermsook.pul/acm-core-service-2/core-service-docs/target/core-service-docs-4.0.27.jar, restEntities=[])
        RestEntityContext(resourcePath=/Users/sermsook.pul/acm-core-service-2/core-service-web/target/core-service-web-4.0.27.jar, restEntities=[RestEntity(isClient=false, url=http://localhost:null/agents/mobile/{mobile}, applicationName=null, ribbonServerName=null, resourcePath=/Users/sermsook.pul/acm-core-service-2/core-service-web/target/core-service-web-4.0.27.jar, className=com.tmn.core.controller.AgentController, methodName=getAgentMobileStatus, returnType=com.tmn.core.api.message.TmnProfileAgentStatus, path=/agents/mobile/{mobile}, httpMethod=GET, pathParams=[Param(name=mobile, defaultValue=)], queryParams=null, consumeType=null, produceType=null), RestEntity(isClient=false, url=http://localhost:null/agents/tmn/{tmnId}, applicationName=null, ribbonServerName=null, resourcePath=/Users/sermsook.pul/acm-core-service-2/core-service-web/target/core-service-web-4.0.27.jar, className=com.tmn.core.controller.AgentController, methodName=getAgentTmnStatus, returnType=com.tmn.core.api.message.TmnProfileAgentStatus, path=/agents/tmn/{tmnId}, httpMethod=GET, pathParams=[Param(name=tmnId, defaultValue=)], queryParams=null, consumeType=null, produceType=null), RestEntity(isClient=false, url=http://localhost:null/agents/email/{email}, applicationName=null, ribbonServerName=null, resourcePath=/Users/sermsook.pul/acm-core-service-2/core-service-web/target/core-service-web-4.0.27.jar, className=com.tmn.core.controller.AgentController, methodName=getAgentEmailStatus, returnType=com.tmn.core.api.message.TmnProfileAgentStatus, path=/agents/email/{email}, httpMethod=GET, pathParams=[Param(name=email, defaultValue=)], queryParams=null, consumeType=null, produceType=null), RestEntity(isClient=true, url={0}, applicationName=null, ribbonServerName=null, resourcePath=/Users/sermsook.pul/acm-core-service-2/core-service-web/target/core-service-web-4.0.27.jar, className=com.tmn.core.client.utiba.rest.BuyRestRequestor, methodName=executeRequest, returnType=java.lang.Object, path=/, httpMethod=GET, pathParams=null, queryParams=null, consumeType=null, produceType=null), RestEntity(isClient=true, url={0}, applicationName=null, ribbonServerName=null, resourcePath=/Users/sermsook.pul/acm-core-service-2/core-service-web/target/core-service-web-4.0.27.jar, className=com.tmn.core.client.utiba.rest.SellRestRequestor, methodName=executeRequest, returnType=java.lang.Object, path=/, httpMethod=GET, pathParams=null, queryParams=null, consumeType=null, produceType=null), RestEntity(isClient=true, url={0}, applicationName=null, ribbonServerName=null, resourcePath=/Users/sermsook.pul/acm-core-service-2/core-service-web/target/core-service-web-4.0.27.jar, className=com.tmn.core.client.utiba.rest.BillPayRestRequestor, methodName=executeRequest, returnType=java.lang.Object, path=/, httpMethod=GET, pathParams=null, queryParams=null, consumeType=null, produceType=null), RestEntity(isClient=false, url=/trans/isActive, applicationName=null, ribbonServerName=null, resourcePath=/Users/sermsook.pul/acm-core-service-2/core-service-web/target/core-service-web-4.0.27.jar, className=com.tmn.core.controller.TransController, methodName=isActive, returnType=org.springframework.http.ResponseEntity, path=/trans/isActive, httpMethod=POST, pathParams=null, queryParams=null, consumeType=null, produceType=null), RestEntity(isClient=false, url=/createUserHistory, applicationName=null, ribbonServerName=null, resourcePath=/Users/sermsook.pul/acm-core-service-2/core-service-web/target/core-service-web-4.0.27.jar, className=com.tmn.core.controller.TmnProfileAdministrationController, methodName=createUserHistory, returnType=com.tmn.core.api.message.CreateUserHistoryResponse, path=/tmn-profile-administration/createUserHistory, httpMethod=POST, pathParams=null, queryParams=null, consumeType=null, produceType=null), RestEntity(isClient=false, url=/confirmResetForgotPassword, applicationName=null, ribbonServerName=null, resourcePath=/Users/sermsook.pul/acm-core-service-2/core-service-web/target/core-service-web-4.0.27.jar, className=com.tmn.core.controller.TmnProfileAdministrationController, methodName=confirmResetForgotPassword, returnType=com.tmn.core.api.message.StandardBizResponse, path=/tmn-profile-administration/confirmResetForgotPassword, httpMethod=POST, pathParams=null, queryParams=null, consumeType=null, produceType=null), RestEntity(isClient=false, url=/createForgotPassword, applicationName=null, ribbonServerName=null, resourcePath=/Users/sermsook.pul/acm-core-service-2/core-service-web/target/core-service-web-4.0.27.jar, className=com.tmn.core.controller.TmnProfileAdministrationController, methodName=createForgotPassword, returnType=com.tmn.core.api.message.CreateForgotPasswordResponse, path=/tmn-profile-administration/createForgotPassword, httpMethod=POST, pathParams=null, queryParams=null, consumeType=null, produceType=null), RestEntity(isClient=false, url=/createForgotToken, applicationName=null, ribbonServerName=null, resourcePath=/Users/sermsook.pul/acm-core-service-2/core-service-web/target/core-service-web-4.0.27.jar, className=com.tmn.core.controller.TmnProfileAdministrationController, methodName=createForgotToken, returnType=com.tmn.core.api.message.CreateForgotPasswordResponse, path=/tmn-profile-administration/createForgotToken, httpMethod=POST, pathParams=null, queryParams=null, consumeType=null, produceType=null), RestEntity(isClient=false, url=/getCustomerProfile, applicationName=null, ribbonServerName=null, resourcePath=/Users/sermsook.pul/acm-core-service-2/core-service-web/target/core-service-web-4.0.27.jar, className=com.tmn.core.controller.TmnProfileAdministrationController, methodName=getCustomerProfile, returnType=com.tmn.core.api.message.GetCustomerProfileResponse, path=/tmn-profile-administration/getCustomerProfile, httpMethod=POST, pathParams=null, queryParams=null, consumeType=null, produceType=null), RestEntity(isClient=false, url=/isExistPartner, applicationName=null, ribbonServerName=null, resourcePath=/Users/sermsook.pul/acm-core-service-2/core-service-web/target/core-service-web-4.0.27.jar, className=com.tmn.core.controller.TmnProfileAdministrationController, methodName=isExistPartner, returnType=com.tmn.core.api.message.IsExistPartnerResponse, path=/tmn-profile-administration/isExistPartner, httpMethod=POST, pathParams=null, queryParams=null, consumeType=null, produceType=null), RestEntity(isClient=false, url=/updateAgentData, applicationName=null, ribbonServerName=null, resourcePath=/Users/sermsook.pul/acm-core-service-2/core-service-web/target/core-service-web-4.0.27.jar, className=com.tmn.core.controller.TmnProfileAdministrationController, methodName=updateAgentData, returnType=com.tmn.core.api.message.StandardBizResponse, path=/tmn-profile-administration/updateAgentData, httpMethod=POST, pathParams=null, queryParams=null, consumeType=null, produceType=null), RestEntity(isClient=false, url=/getBodyIdBySalt, applicationName=null, ribbonServerName=null, resourcePath=/Users/sermsook.pul/acm-core-service-2/core-service-web/target/core-service-web-4.0.27.jar, className=com.tmn.core.controller.TmnProfileAdministrationController, methodName=getBodyIdBySalt, returnType=com.tmn.core.api.message.GetBodyIdResponse, path=/tmn-profile-administration/getBodyIdBySalt, httpMethod=POST, pathParams=null, queryParams=null, consumeType=null, produceType=null), RestEntity(isClient=false, url=/getTmnProfileByWalletToken, applicationName=null, ribbonServerName=null, resourcePath=/Users/sermsook.pul/acm-core-service-2/core-service-web/target/core-service-web-4.0.27.jar, className=com.tmn.core.controller.TmnProfileAdministrationController, methodName=getTmnProfileByWalletToken, returnType=com.tmn.core.api.message.GetTmnProfileByWalletTokenResponse, path=/tmn-profile-administration/getTmnProfileByWalletToken, httpMethod=POST, pathParams=null, queryParams=null, consumeType=null, produceType=null), RestEntity(isClient=false, url=/verifyProfileForgotPassword, applicationName=null, ribbonServerName=null, resourcePath=/Users/sermsook.pul/acm-core-service-2/core-service-web/target/core-service-web-4.0.27.jar, className=com.tmn.core.controller.TmnProfileAdministrationController, methodName=verifyProfileForgotPassword, returnType=com.tmn.core.api.message.CreateForgotPasswordResponse, path=/tmn-profile-administration/verifyProfileForgotPassword, httpMethod=POST, pathParams=null, queryParams=null, consumeType=null, produceType=null), RestEntity(isClient=false, url=/verifyForgotPassword, applicationName=null, ribbonServerName=null, resourcePath=/Users/sermsook.pul/acm-core-service-2/core-service-web/target/core-service-web-4.0.27.jar, className=com.tmn.core.controller.TmnProfileAdministrationController, methodName=verifyForgotPassword, returnType=com.tmn.core.api.message.VerifyForgotPasswordResponse, path=/tmn-profile-administration/verifyForgotPassword, httpMethod=POST, pathParams=null, queryParams=null, consumeType=null, produceType=null), RestEntity(isClient=false, url=/deleteProfile, applicationName=null, ribbonServerName=null, resourcePath=/Users/sermsook.pul/acm-core-service-2/core-service-web/target/core-service-web-4.0.27.jar, className=com.tmn.core.controller.TmnProfileAdministrationController, methodName=deleteProfile, returnType=com.tmn.core.api.message.StandardBizResponse, path=/tmn-profile-administration/deleteProfile, httpMethod=POST, pathParams=null, queryParams=null, consumeType=null, produceType=null), RestEntity(isClient=false, url=/isCreatable, applicationName=null, ribbonServerName=null, resourcePath=/Users/sermsook.pul/acm-core-service-2/core-service-web/target/core-service-web-4.0.27.jar, className=com.tmn.core.controller.TmnProfileAdministrationController, methodName=isCreatable, returnType=com.tmn.core.api.message.StandardBizResponse, path=/tmn-profile-administration/isCreatable, httpMethod=POST, pathParams=null, queryParams=null, consumeType=null, produceType=null), RestEntity(isClient=false, url=/confirmForgotPassword, applicationName=null, ribbonServerName=null, resourcePath=/Users/sermsook.pul/acm-core-service-2/core-service-web/target/core-service-web-4.0.27.jar, className=com.tmn.core.controller.TmnProfileAdministrationController, methodName=confirmForgotPassword, returnType=com.tmn.core.api.message.StandardBizResponse, path=/tmn-profile-administration/confirmForgotPassword, httpMethod=POST, pathParams=null, queryParams=null, consumeType=null, produceType=null), RestEntity(isClient=false, url=/checkTransStatus, applicationName=null, ribbonServerName=null, resourcePath=/Users/sermsook.pul/acm-core-service-2/core-service-web/target/core-service-web-4.0.27.jar, className=com.tmn.core.controller.WalletAdministrationController, methodName=checkTransStatus, returnType=com.tmn.core.api.message.CheckTransStatusResponse, path=/wallet-administration/checkTransStatus, httpMethod=POST, pathParams=null, queryParams=null, consumeType=null, produceType=null), RestEntity(isClient=false, url=/load, applicationName=null, ribbonServerName=null, resourcePath=/Users/sermsook.pul/acm-core-service-2/core-service-web/target/core-service-web-4.0.27.jar, className=com.tmn.core.controller.WalletAdministrationController, methodName=load, returnType=com.tmn.core.api.message.PaymentResponse, path=/wallet-administration/load, httpMethod=POST, pathParams=null, queryParams=null, consumeType=null, produceType=null), RestEntity(isClient=false, url=/cancelLoad, applicationName=null, ribbonServerName=null, resourcePath=/Users/sermsook.pul/acm-core-service-2/core-service-web/target/core-service-web-4.0.27.jar, className=com.tmn.core.controller.WalletAdministrationController, methodName=cancelLoad, returnType=com.tmn.core.api.message.StandardBizResponse, path=/wallet-administration/cancelLoad, httpMethod=POST, pathParams=null, queryParams=null, consumeType=null, produceType=null), RestEntity(isClient=false, url=/verifyDeduct, applicationName=null, ribbonServerName=null, resourcePath=/Users/sermsook.pul/acm-core-service-2/core-service-web/target/core-service-web-4.0.27.jar, className=com.tmn.core.controller.WalletAdministrationController, methodName=verifyDeduct, returnType=com.tmn.core.api.message.StandardBizResponse, path=/wallet-administration/verifyDeduct, httpMethod=POST, pathParams=null, queryParams=null, consumeType=null, produceType=null), RestEntity(isClient=false, url=/updateTransDetail, applicationName=null, ribbonServerName=null, resourcePath=/Users/sermsook.pul/acm-core-service-2/core-service-web/target/core-service-web-4.0.27.jar, className=com.tmn.core.controller.WalletAdministrationController, methodName=updateTransactionDetail, returnType=com.tmn.core.api.message.StandardBizResponse, path=/wallet-administration/updateTransDetail, httpMethod=POST, pathParams=null, queryParams=null, consumeType=null, produceType=null), RestEntity(isClient=false, url=/deduct, applicationName=null, ribbonServerName=null, resourcePath=/Users/sermsook.pul/acm-core-service-2/core-service-web/target/core-service-web-4.0.27.jar, className=com.tmn.core.controller.WalletAdministrationController, methodName=deduct, returnType=com.tmn.core.api.message.PaymentResponse, path=/wallet-administration/deduct, httpMethod=POST, pathParams=null, queryParams=null, consumeType=null, produceType=null), RestEntity(isClient=false, url=/cancelSell, applicationName=null, ribbonServerName=null, resourcePath=/Users/sermsook.pul/acm-core-service-2/core-service-web/target/core-service-web-4.0.27.jar, className=com.tmn.core.controller.WalletAdministrationController, methodName=cancelSell, returnType=com.tmn.core.api.message.StandardBizResponse, path=/wallet-administration/cancelSell, httpMethod=POST, pathParams=null, queryParams=null, consumeType=null, produceType=null), RestEntity(isClient=false, url=/transfer, applicationName=null, ribbonServerName=null, resourcePath=/Users/sermsook.pul/acm-core-service-2/core-service-web/target/core-service-web-4.0.27.jar, className=com.tmn.core.controller.WalletAdministrationController, methodName=transfer, returnType=com.tmn.core.api.message.StandardBizResponse, path=/wallet-administration/transfer, httpMethod=POST, pathParams=null, queryParams=null, consumeType=null, produceType=null), RestEntity(isClient=false, url=/cancelDeduct, applicationName=null, ribbonServerName=null, resourcePath=/Users/sermsook.pul/acm-core-service-2/core-service-web/target/core-service-web-4.0.27.jar, className=com.tmn.core.controller.WalletAdministrationController, methodName=cancelDeduct, returnType=com.tmn.core.api.message.StandardBizResponse, path=/wallet-administration/cancelDeduct, httpMethod=POST, pathParams=null, queryParams=null, consumeType=null, produceType=null), RestEntity(isClient=false, url=/cancelDebit, applicationName=null, ribbonServerName=null, resourcePath=/Users/sermsook.pul/acm-core-service-2/core-service-web/target/core-service-web-4.0.27.jar, className=com.tmn.core.controller.WalletAdministrationController, methodName=cancelDebit, returnType=com.tmn.core.api.message.StandardBizResponse, path=/wallet-administration/cancelDebit, httpMethod=POST, pathParams=null, queryParams=null, consumeType=null, produceType=null), RestEntity(isClient=false, url=/verifyTransfer, applicationName=null, ribbonServerName=null, resourcePath=/Users/sermsook.pul/acm-core-service-2/core-service-web/target/core-service-web-4.0.27.jar, className=com.tmn.core.controller.WalletAdministrationController, methodName=verifyTransfer, returnType=com.tmn.core.api.message.StandardBizResponse, path=/wallet-administration/verifyTransfer, httpMethod=POST, pathParams=null, queryParams=null, consumeType=null, produceType=null), RestEntity(isClient=false, url=/sell, applicationName=null, ribbonServerName=null, resourcePath=/Users/sermsook.pul/acm-core-service-2/core-service-web/target/core-service-web-4.0.27.jar, className=com.tmn.core.controller.WalletAdministrationController, methodName=sell, returnType=com.tmn.core.api.message.StandardBizResponse, path=/wallet-administration/sell, httpMethod=POST, pathParams=null, queryParams=null, consumeType=null, produceType=null), RestEntity(isClient=true, url={0}, applicationName=null, ribbonServerName=null, resourcePath=/Users/sermsook.pul/acm-core-service-2/core-service-web/target/core-service-web-4.0.27.jar, className=com.tmn.core.client.utiba.rest.UtibaAbstractRestRequestor, methodName=executeRequest, returnType=java.lang.Object, path=/, httpMethod=GET, pathParams=null, queryParams=null, consumeType=null, produceType=null), RestEntity(isClient=true, url={0}, applicationName=null, ribbonServerName=null, resourcePath=/Users/sermsook.pul/acm-core-service-2/core-service-web/target/core-service-web-4.0.27.jar, className=com.tmn.core.client.utiba.rest.DeleteRestRequestor, methodName=executeRequest, returnType=java.lang.Object, path=/, httpMethod=GET, pathParams=null, queryParams=null, consumeType=null, produceType=null), RestEntity(isClient=false, url=/wallet/verifyDebit, applicationName=null, ribbonServerName=null, resourcePath=/Users/sermsook.pul/acm-core-service-2/core-service-web/target/core-service-web-4.0.27.jar, className=com.tmn.core.controller.WalletController, methodName=verifyDebit, returnType=com.tmn.core.api.message.StandardMoneyResponse, path=/wallet/verifyDebit, httpMethod=POST, pathParams=null, queryParams=null, consumeType=null, produceType=null), RestEntity(isClient=false, url=/wallet/v2/addMoneyCashcard, applicationName=null, ribbonServerName=null, resourcePath=/Users/sermsook.pul/acm-core-service-2/core-service-web/target/core-service-web-4.0.27.jar, className=com.tmn.core.controller.WalletController, methodName=addMoneyByCashcardV2, returnType=com.tmn.core.api.message.StandardMoneyResponse, path=/wallet/v2/addMoneyCashcard, httpMethod=POST, pathParams=null, queryParams=null, consumeType=null, produceType=null), RestEntity(isClient=false, url=/wallet/debit, applicationName=null, ribbonServerName=null, resourcePath=/Users/sermsook.pul/acm-core-service-2/core-service-web/target/core-service-web-4.0.27.jar, className=com.tmn.core.controller.WalletController, methodName=debit, returnType=com.tmn.core.api.message.StandardMoneyResponse, path=/wallet/debit, httpMethod=POST, pathParams=null, queryParams=null, consumeType=null, produceType=null), RestEntity(isClient=false, url=/wallet/verifyAddMoney, applicationName=null, ribbonServerName=null, resourcePath=/Users/sermsook.pul/acm-core-service-2/core-service-web/target/core-service-web-4.0.27.jar, className=com.tmn.core.controller.WalletController, methodName=verifyAddMoney, returnType=com.tmn.core.api.message.StandardMoneyResponse, path=/wallet/verifyAddMoney, httpMethod=POST, pathParams=null, queryParams=null, consumeType=null, produceType=null), RestEntity(isClient=false, url=/wallet/verifyReferenceList, applicationName=null, ribbonServerName=null, resourcePath=/Users/sermsook.pul/acm-core-service-2/core-service-web/target/core-service-web-4.0.27.jar, className=com.tmn.core.controller.WalletController, methodName=verifyReference, returnType=com.tmn.core.api.message.VerifyReferenceResponseList, path=/wallet/verifyReferenceList, httpMethod=POST, pathParams=null, queryParams=null, consumeType=null, produceType=null), RestEntity(isClient=false, url=/wallet/getBalance, applicationName=null, ribbonServerName=null, resourcePath=/Users/sermsook.pul/acm-core-service-2/core-service-web/target/core-service-web-4.0.27.jar, className=com.tmn.core.controller.WalletController, methodName=getBalance, returnType=com.tmn.core.api.message.GetBalanceResponse, path=/wallet/getBalance, httpMethod=POST, pathParams=null, queryParams=null, consumeType=null, produceType=null), RestEntity(isClient=false, url=/wallet/transfer, applicationName=null, ribbonServerName=null, resourcePath=/Users/sermsook.pul/acm-core-service-2/core-service-web/target/core-service-web-4.0.27.jar, className=com.tmn.core.controller.WalletController, methodName=transfer, returnType=com.tmn.core.api.message.StandardMoneyResponse, path=/wallet/transfer, httpMethod=POST, pathParams=null, queryParams=null, consumeType=null, produceType=null), RestEntity(isClient=false, url=/wallet/verifyTransfer, applicationName=null, ribbonServerName=null, resourcePath=/Users/sermsook.pul/acm-core-service-2/core-service-web/target/core-service-web-4.0.27.jar, className=com.tmn.core.controller.WalletController, methodName=verifyTransfer, returnType=com.tmn.core.api.message.VerifyTransferResponse, path=/wallet/verifyTransfer, httpMethod=POST, pathParams=null, queryParams=null, consumeType=null, produceType=null), RestEntity(isClient=false, url=/changePassword, applicationName=null, ribbonServerName=null, resourcePath=/Users/sermsook.pul/acm-core-service-2/core-service-web/target/core-service-web-4.0.27.jar, className=com.tmn.core.controller.TmxAgentController, methodName=changeTmxPassword, returnType=com.tmn.core.api.message.StandardBizResponse, path=/tmx-agent-profile/changePassword, httpMethod=POST, pathParams=null, queryParams=null, consumeType=null, produceType=null), RestEntity(isClient=true, url={0}, applicationName=null, ribbonServerName=null, resourcePath=/Users/sermsook.pul/acm-core-service-2/core-service-web/target/core-service-web-4.0.27.jar, className=com.tmn.core.client.utiba.rest.UpdateAccountRestRequestor, methodName=executeRequest, returnType=java.lang.Object, path=/, httpMethod=GET, pathParams=null, queryParams=null, consumeType=null, produceType=null), RestEntity(isClient=true, url={0}, applicationName=null, ribbonServerName=null, resourcePath=/Users/sermsook.pul/acm-core-service-2/core-service-web/target/core-service-web-4.0.27.jar, className=com.tmn.core.client.utiba.rest.TransferRestRequestor, methodName=executeRequest, returnType=java.lang.Object, path=/, httpMethod=GET, pathParams=null, queryParams=null, consumeType=null, produceType=null), RestEntity(isClient=false, url=/register, applicationName=null, ribbonServerName=null, resourcePath=/Users/sermsook.pul/acm-core-service-2/core-service-web/target/core-service-web-4.0.27.jar, className=com.tmn.core.controller.TmxAgentProfileController, methodName=registerTmxAgent, returnType=com.tmn.core.api.message.tmxprofile.RegisterResponse, path=/tmx-agent-profile/register, httpMethod=POST, pathParams=null, queryParams=null, consumeType=null, produceType=null), RestEntity(isClient=false, url=/version, applicationName=null, ribbonServerName=null, resourcePath=/Users/sermsook.pul/acm-core-service-2/core-service-web/target/core-service-web-4.0.27.jar, className=com.tmn.core.controller.VersionController, methodName=version, returnType=java.lang.String, path=/version, httpMethod=GET, pathParams=null, queryParams=null, consumeType=null, produceType=null), RestEntity(isClient=true, url={0}, applicationName=null, ribbonServerName=null, resourcePath=/Users/sermsook.pul/acm-core-service-2/core-service-web/target/core-service-web-4.0.27.jar, className=com.tmn.core.client.AbstractServiceRestRequestor, methodName=executeRequest, returnType=java.lang.Object, path=/, httpMethod=GET, pathParams=null, queryParams=null, consumeType=null, produceType=null), RestEntity(isClient=true, url={0}, applicationName=null, ribbonServerName=null, resourcePath=/Users/sermsook.pul/acm-core-service-2/core-service-web/target/core-service-web-4.0.27.jar, className=com.tmn.core.client.utiba.rest.AdjustmentRestRequestor, methodName=executeRequest, returnType=java.lang.Object, path=/, httpMethod=GET, pathParams=null, queryParams=null, consumeType=null, produceType=null), RestEntity(isClient=true, url={0}, applicationName=null, ribbonServerName=null, resourcePath=/Users/sermsook.pul/acm-core-service-2/core-service-web/target/core-service-web-4.0.27.jar, className=com.tmn.core.client.utiba.rest.AddMoneyCashCardRestRequestorV2, methodName=executeRequest, returnType=java.lang.Object, path=/, httpMethod=GET, pathParams=null, queryParams=null, consumeType=null, produceType=null), RestEntity(isClient=true, url={0}, applicationName=null, ribbonServerName=null, resourcePath=/Users/sermsook.pul/acm-core-service-2/core-service-web/target/core-service-web-4.0.27.jar, className=com.tmn.core.service.cashcard.CashCardServiceHTTPImpl, methodName=getCashCardV2, returnType=com.tmn.core.domain.CashCard, path=/, httpMethod=POST, pathParams=null, queryParams=null, consumeType=null, produceType=null), RestEntity(isClient=false, url=/fee/withdraw, applicationName=null, ribbonServerName=null, resourcePath=/Users/sermsook.pul/acm-core-service-2/core-service-web/target/core-service-web-4.0.27.jar, className=com.tmn.core.controller.UtibaRuleController, methodName=calculateWithdrawFee, returnType=com.tmn.core.api.message.CalculateFeeResponse, path=/utiba-rule/fee/withdraw, httpMethod=POST, pathParams=null, queryParams=null, consumeType=null, produceType=null), RestEntity(isClient=false, url=/getAccount, applicationName=null, ribbonServerName=null, resourcePath=/Users/sermsook.pul/acm-core-service-2/core-service-web/target/core-service-web-4.0.27.jar, className=com.tmn.core.controller.TmnAccountAdministrationController, methodName=getAccount, returnType=com.tmn.core.api.message.StandardBizResponse, path=/tmn-account-administration/getAccount, httpMethod=POST, pathParams=null, queryParams=null, consumeType=null, produceType=null), RestEntity(isClient=false, url=/updateAccount, applicationName=null, ribbonServerName=null, resourcePath=/Users/sermsook.pul/acm-core-service-2/core-service-web/target/core-service-web-4.0.27.jar, className=com.tmn.core.controller.TmnAccountAdministrationController, methodName=updateAccount, returnType=com.tmn.core.api.message.StandardBizResponse, path=/tmn-account-administration/updateAccount, httpMethod=POST, pathParams=null, queryParams=null, consumeType=null, produceType=null), RestEntity(isClient=false, url=/caches, applicationName=null, ribbonServerName=null, resourcePath=/Users/sermsook.pul/acm-core-service-2/core-service-web/target/core-service-web-4.0.27.jar, className=com.tmn.core.controller.CacheController, methodName=clearCache, returnType=java.lang.String, path=/caches, httpMethod=DELETE, pathParams=null, queryParams=null, consumeType=null, produceType=null), RestEntity(isClient=true, url={0}, applicationName=null, ribbonServerName=null, resourcePath=/Users/sermsook.pul/acm-core-service-2/core-service-web/target/core-service-web-4.0.27.jar, className=com.tmn.core.client.risk.rest.VerifyBlacklistRestRequestor, methodName=executeRequest, returnType=java.lang.Object, path=/, httpMethod=GET, pathParams=null, queryParams=null, consumeType=null, produceType=null), RestEntity(isClient=false, url=/terminateSession, applicationName=null, ribbonServerName=null, resourcePath=/Users/sermsook.pul/acm-core-service-2/core-service-web/target/core-service-web-4.0.27.jar, className=com.tmn.core.controller.TmnSecurityController, methodName=terminateSession, returnType=com.tmn.core.api.message.StandardBizResponse, path=/tmn-security/terminateSession, httpMethod=POST, pathParams=null, queryParams=null, consumeType=null, produceType=null), RestEntity(isClient=false, url=/signon, applicationName=null, ribbonServerName=null, resourcePath=/Users/sermsook.pul/acm-core-service-2/core-service-web/target/core-service-web-4.0.27.jar, className=com.tmn.core.controller.TmnSecurityController, methodName=signon, returnType=com.tmn.core.api.message.SignonResponse, path=/tmn-security/signon, httpMethod=POST, pathParams=null, queryParams=null, consumeType=null, produceType=null), RestEntity(isClient=false, url=/updateProfile, applicationName=null, ribbonServerName=null, resourcePath=/Users/sermsook.pul/acm-core-service-2/core-service-web/target/core-service-web-4.0.27.jar, className=com.tmn.core.controller.TmnProfileController, methodName=updateProfile, returnType=com.tmn.core.api.message.StandardBizResponse, path=/tmn-profile/updateProfile, httpMethod=POST, pathParams=null, queryParams=null, consumeType=null, produceType=null), RestEntity(isClient=false, url=/setPin, applicationName=null, ribbonServerName=null, resourcePath=/Users/sermsook.pul/acm-core-service-2/core-service-web/target/core-service-web-4.0.27.jar, className=com.tmn.core.controller.TmnProfileController, methodName=setNewPin, returnType=com.tmn.core.api.message.StandardBizResponse, path=/tmn-profile/setPin, httpMethod=POST, pathParams=null, queryParams=null, consumeType=null, produceType=null), RestEntity(isClient=false, url=/getProfile, applicationName=null, ribbonServerName=null, resourcePath=/Users/sermsook.pul/acm-core-service-2/core-service-web/target/core-service-web-4.0.27.jar, className=com.tmn.core.controller.TmnProfileController, methodName=getProfile, returnType=com.tmn.core.api.message.GetProfileResponse, path=/tmn-profile/getProfile, httpMethod=POST, pathParams=null, queryParams=null, consumeType=null, produceType=null), RestEntity(isClient=false, url=/changePassword, applicationName=null, ribbonServerName=null, resourcePath=/Users/sermsook.pul/acm-core-service-2/core-service-web/target/core-service-web-4.0.27.jar, className=com.tmn.core.controller.TmnProfileController, methodName=changePassword, returnType=com.tmn.core.api.message.StandardBizResponse, path=/tmn-profile/changePassword, httpMethod=POST, pathParams=null, queryParams=null, consumeType=null, produceType=null), RestEntity(isClient=false, url=/getProfilesByIdentification, applicationName=null, ribbonServerName=null, resourcePath=/Users/sermsook.pul/acm-core-service-2/core-service-web/target/core-service-web-4.0.27.jar, className=com.tmn.core.controller.TmnProfileController, methodName=getProfilesByIdentification, returnType=org.springframework.http.ResponseEntity, path=/tmn-profile/getProfilesByIdentification, httpMethod=POST, pathParams=null, queryParams=null, consumeType=null, produceType=null), RestEntity(isClient=false, url=/kiosk, applicationName=null, ribbonServerName=null, resourcePath=/Users/sermsook.pul/acm-core-service-2/core-service-web/target/core-service-web-4.0.27.jar, className=com.tmn.core.controller.TmnProfileController, methodName=createTmnProfile, returnType=com.tmn.core.api.message.CreateTmnProfileResponse, path=/tmn-profile/kiosk, httpMethod=POST, pathParams=null, queryParams=null, consumeType=null, produceType=null), RestEntity(isClient=false, url=/isFavorited, applicationName=null, ribbonServerName=null, resourcePath=/Users/sermsook.pul/acm-core-service-2/core-service-web/target/core-service-web-4.0.27.jar, className=com.tmn.core.controller.TmnProfileController, methodName=isFavorited, returnType=com.tmn.core.api.message.StandardBizResponse, path=/tmn-profile/isFavorited, httpMethod=POST, pathParams=null, queryParams=null, consumeType=null, produceType=null), RestEntity(isClient=false, url=/createPin, applicationName=null, ribbonServerName=null, resourcePath=/Users/sermsook.pul/acm-core-service-2/core-service-web/target/core-service-web-4.0.27.jar, className=com.tmn.core.controller.TmnProfileController, methodName=createPin, returnType=com.tmn.core.api.message.StandardBizResponse, path=/tmn-profile/createPin, httpMethod=POST, pathParams=null, queryParams=null, consumeType=null, produceType=null), RestEntity(isClient=false, url=/business/upgradeTmnProfile, applicationName=null, ribbonServerName=null, resourcePath=/Users/sermsook.pul/acm-core-service-2/core-service-web/target/core-service-web-4.0.27.jar, className=com.tmn.core.controller.TmnProfileController, methodName=upgradeTmnProfileToBusiness, returnType=com.tmn.core.api.message.UpgradeTmnProfileToBusinessResponse, path=/tmn-profile/business/upgradeTmnProfile, httpMethod=POST, pathParams=null, queryParams=null, consumeType=null, produceType=null), RestEntity(isClient=false, url=/deleteFavorite, applicationName=null, ribbonServerName=null, resourcePath=/Users/sermsook.pul/acm-core-service-2/core-service-web/target/core-service-web-4.0.27.jar, className=com.tmn.core.controller.TmnProfileController, methodName=deleteFavorite, returnType=com.tmn.core.api.message.StandardBizResponse, path=/tmn-profile/deleteFavorite, httpMethod=POST, pathParams=null, queryParams=null, consumeType=null, produceType=null), RestEntity(isClient=false, url=/addFavorite, applicationName=null, ribbonServerName=null, resourcePath=/Users/sermsook.pul/acm-core-service-2/core-service-web/target/core-service-web-4.0.27.jar, className=com.tmn.core.controller.TmnProfileController, methodName=addFavorite, returnType=com.tmn.core.api.message.AddFavoriteResponse, path=/tmn-profile/addFavorite, httpMethod=POST, pathParams=null, queryParams=null, consumeType=null, produceType=null), RestEntity(isClient=false, url=/listFavorite, applicationName=null, ribbonServerName=null, resourcePath=/Users/sermsook.pul/acm-core-service-2/core-service-web/target/core-service-web-4.0.27.jar, className=com.tmn.core.controller.TmnProfileController, methodName=listFavorite, returnType=com.tmn.core.api.message.ListFavoriteResponse, path=/tmn-profile/listFavorite, httpMethod=POST, pathParams=null, queryParams=null, consumeType=null, produceType=null), RestEntity(isClient=false, url=/v2/profiles, applicationName=null, ribbonServerName=null, resourcePath=/Users/sermsook.pul/acm-core-service-2/core-service-web/target/core-service-web-4.0.27.jar, className=com.tmn.core.controller.ProfileController, methodName=createProfileV2, returnType=org.springframework.http.ResponseEntity, path=/v2/profiles, httpMethod=POST, pathParams=null, queryParams=null, consumeType=null, produceType=null), RestEntity(isClient=false, url=http://localhost:null/profiles/wallet/{ref}, applicationName=null, ribbonServerName=null, resourcePath=/Users/sermsook.pul/acm-core-service-2/core-service-web/target/core-service-web-4.0.27.jar, className=com.tmn.core.controller.ProfileController, methodName=getWalletProfile, returnType=org.springframework.http.ResponseEntity, path=/profiles/wallet/{ref}, httpMethod=GET, pathParams=[Param(name=ref, defaultValue=)], queryParams=null, consumeType=null, produceType=null), RestEntity(isClient=false, url=/verify, applicationName=null, ribbonServerName=null, resourcePath=/Users/sermsook.pul/acm-core-service-2/core-service-web/target/core-service-web-4.0.27.jar, className=com.tmn.core.controller.ProfileController, methodName=verifyUpdateProfileByTmnId, returnType=org.springframework.http.ResponseEntity, path=/v3/profiles/{tmnid}/verify, httpMethod=POST, pathParams=[Param(name=tmnid, defaultValue=)], queryParams=null, consumeType=null, produceType=null), RestEntity(isClient=false, url=http://localhost:null/profile/updateKycVerifyStatus/{tmnId}, applicationName=null, ribbonServerName=null, resourcePath=/Users/sermsook.pul/acm-core-service-2/core-service-web/target/core-service-web-4.0.27.jar, className=com.tmn.core.controller.ProfileController, methodName=updateKycStatusByTmnId, returnType=org.springframework.http.ResponseEntity, path=/profile/updateKycVerifyStatus/{tmnId}, httpMethod=PUT, pathParams=[Param(name=tmnId, defaultValue=)], queryParams=null, consumeType=null, produceType=null), RestEntity(isClient=false, url=http://localhost:null/profiles/{agentRef}, applicationName=null, ribbonServerName=null, resourcePath=/Users/sermsook.pul/acm-core-service-2/core-service-web/target/core-service-web-4.0.27.jar, className=com.tmn.core.controller.ProfileController, methodName=getProfileByAgentRef, returnType=org.springframework.http.ResponseEntity, path=/profiles/{agentRef}, httpMethod=GET, pathParams=[Param(name=agentRef, defaultValue=)], queryParams=null, consumeType=null, produceType=null), RestEntity(isClient=false, url=http://localhost:null/kyc/profiles/{tmnId}, applicationName=null, ribbonServerName=null, resourcePath=/Users/sermsook.pul/acm-core-service-2/core-service-web/target/core-service-web-4.0.27.jar, className=com.tmn.core.controller.ProfileController, methodName=updateKycProfileByTmnId, returnType=com.tmn.core.api.message.BasicResponse, path=/kyc/profiles/{tmnId}, httpMethod=POST, pathParams=[Param(name=tmnId, defaultValue=)], queryParams=null, consumeType=null, produceType=null), RestEntity(isClient=false, url=http://localhost:null/profile/{reference}, applicationName=null, ribbonServerName=null, resourcePath=/Users/sermsook.pul/acm-core-service-2/core-service-web/target/core-service-web-4.0.27.jar, className=com.tmn.core.controller.ProfileController, methodName=getSingleProfileByReference, returnType=org.springframework.http.ResponseEntity, path=/profile/{reference}, httpMethod=GET, pathParams=[Param(name=reference, defaultValue=)], queryParams=[Param(name=VARIABLE_NAME, defaultValue=)], consumeType=null, produceType=null), RestEntity(isClient=false, url=http://localhost:null/v3/profiles/{tmnid}, applicationName=null, ribbonServerName=null, resourcePath=/Users/sermsook.pul/acm-core-service-2/core-service-web/target/core-service-web-4.0.27.jar, className=com.tmn.core.controller.ProfileController, methodName=updateProfileByTmnId, returnType=org.springframework.http.ResponseEntity, path=/v3/profiles/{tmnid}, httpMethod=PATCH, pathParams=[Param(name=tmnid, defaultValue=)], queryParams=null, consumeType=null, produceType=null), RestEntity(isClient=false, url=/upgradeMinimalProfile, applicationName=null, ribbonServerName=null, resourcePath=/Users/sermsook.pul/acm-core-service-2/core-service-web/target/core-service-web-4.0.27.jar, className=com.tmn.core.controller.ProfileController, methodName=upgradeMinimalProfile, returnType=org.springframework.http.ResponseEntity, path=/upgradeMinimalProfile, httpMethod=POST, pathParams=null, queryParams=null, consumeType=null, produceType=null), RestEntity(isClient=false, url=/profiles, applicationName=null, ribbonServerName=null, resourcePath=/Users/sermsook.pul/acm-core-service-2/core-service-web/target/core-service-web-4.0.27.jar, className=com.tmn.core.controller.ProfileController, methodName=createProfile, returnType=org.springframework.http.HttpEntity, path=/profiles, httpMethod=POST, pathParams=null, queryParams=null, consumeType=null, produceType=null), RestEntity(isClient=false, url=/v2/profiles/verification, applicationName=null, ribbonServerName=null, resourcePath=/Users/sermsook.pul/acm-core-service-2/core-service-web/target/core-service-web-4.0.27.jar, className=com.tmn.core.controller.ProfileController, methodName=verifyProfileV2, returnType=com.tmn.core.api.message.RegisterProfileResponse, path=/v2/profiles/verification, httpMethod=POST, pathParams=null, queryParams=null, consumeType=null, produceType=null), RestEntity(isClient=false, url=/list, applicationName=null, ribbonServerName=null, resourcePath=/Users/sermsook.pul/acm-core-service-2/core-service-web/target/core-service-web-4.0.27.jar, className=com.tmn.core.controller.ProfileController, methodName=getProfileByReferenceList, returnType=org.springframework.http.ResponseEntity, path=/profiles/{referenceType}/list, httpMethod=POST, pathParams=[Param(name=referenceType, defaultValue=)], queryParams=[Param(name=VARIABLE_NAME, defaultValue=)], consumeType=null, produceType=null), RestEntity(isClient=false, url=/createMinimalProfile, applicationName=null, ribbonServerName=null, resourcePath=/Users/sermsook.pul/acm-core-service-2/core-service-web/target/core-service-web-4.0.27.jar, className=com.tmn.core.controller.ProfileController, methodName=createMinimalProfile, returnType=org.springframework.http.ResponseEntity, path=/createMinimalProfile, httpMethod=POST, pathParams=null, queryParams=null, consumeType=null, produceType=null), RestEntity(isClient=false, url=/migratePassword, applicationName=null, ribbonServerName=null, resourcePath=/Users/sermsook.pul/acm-core-service-2/core-service-web/target/core-service-web-4.0.27.jar, className=com.tmn.core.controller.WalletMigrationController, methodName=migratePassword, returnType=org.springframework.http.ResponseEntity, path=/wallet-migration/migratePassword, httpMethod=POST, pathParams=null, queryParams=null, consumeType=null, produceType=null)])
        RestEntityContext(resourcePath=/Users/sermsook.pul/acm-core-service-2/pin-service-web/target/pin-service-web-4.0.27.jar, restEntities=[RestEntity(isClient=false, url=/createPin, applicationName=null, ribbonServerName=null, resourcePath=/Users/sermsook.pul/acm-core-service-2/pin-service-web/target/pin-service-web-4.0.27.jar, className=com.tmn.pin.controller.PinController, methodName=createPin, returnType=org.springframework.http.ResponseEntity, path=/tmn-security/createPin, httpMethod=POST, pathParams=null, queryParams=null, consumeType=null, produceType=null), RestEntity(isClient=false, url=/changePin, applicationName=null, ribbonServerName=null, resourcePath=/Users/sermsook.pul/acm-core-service-2/pin-service-web/target/pin-service-web-4.0.27.jar, className=com.tmn.pin.controller.PinController, methodName=changePin, returnType=org.springframework.http.ResponseEntity, path=/tmn-security/changePin, httpMethod=POST, pathParams=null, queryParams=null, consumeType=null, produceType=null), RestEntity(isClient=false, url=/confirmForgotPinToken, applicationName=null, ribbonServerName=null, resourcePath=/Users/sermsook.pul/acm-core-service-2/pin-service-web/target/pin-service-web-4.0.27.jar, className=com.tmn.pin.controller.PinController, methodName=confirmForgotPinToken, returnType=org.springframework.http.ResponseEntity, path=/tmn-security/confirmForgotPinToken, httpMethod=POST, pathParams=null, queryParams=null, consumeType=null, produceType=null), RestEntity(isClient=false, url=/verifyForgotPinToken, applicationName=null, ribbonServerName=null, resourcePath=/Users/sermsook.pul/acm-core-service-2/pin-service-web/target/pin-service-web-4.0.27.jar, className=com.tmn.pin.controller.PinController, methodName=verifyForgotPinToken, returnType=org.springframework.http.ResponseEntity, path=/tmn-security/verifyForgotPinToken, httpMethod=POST, pathParams=null, queryParams=null, consumeType=null, produceType=null), RestEntity(isClient=false, url=/validatePin, applicationName=null, ribbonServerName=null, resourcePath=/Users/sermsook.pul/acm-core-service-2/pin-service-web/target/pin-service-web-4.0.27.jar, className=com.tmn.pin.controller.PinController, methodName=validatePin, returnType=org.springframework.http.ResponseEntity, path=/tmn-security/validatePin, httpMethod=POST, pathParams=null, queryParams=null, consumeType=null, produceType=null), RestEntity(isClient=false, url=/createForgotPinToken, applicationName=null, ribbonServerName=null, resourcePath=/Users/sermsook.pul/acm-core-service-2/pin-service-web/target/pin-service-web-4.0.27.jar, className=com.tmn.pin.controller.PinController, methodName=createForgotPinToken, returnType=org.springframework.http.ResponseEntity, path=/tmn-security/createForgotPinToken, httpMethod=POST, pathParams=null, queryParams=null, consumeType=null, produceType=null), RestEntity(isClient=false, url=/pinStatus, applicationName=null, ribbonServerName=null, resourcePath=/Users/sermsook.pul/acm-core-service-2/pin-service-web/target/pin-service-web-4.0.27.jar, className=com.tmn.pin.controller.PinController, methodName=pinStatus, returnType=org.springframework.http.ResponseEntity, path=/tmn-security/pinStatus, httpMethod=POST, pathParams=null, queryParams=null, consumeType=null, produceType=null)])
        RestEntityContext(resourcePath=/Users/sermsook.pul/acm-core-service-2/target/core-service-4.0.27.jar, restEntities=[RestEntity(isClient=true, url={0}, applicationName=null, ribbonServerName=null, resourcePath=/Users/sermsook.pul/acm-core-service-2/target/core-service-4.0.27.jar, className=com.tmn.core.client.utiba.rest.AddMoneyCashCardRestRequestorV2, methodName=executeRequest, returnType=java.lang.Object, path=/, httpMethod=GET, pathParams=null, queryParams=null, consumeType=null, produceType=null), RestEntity(isClient=false, url=/trans/isActive, applicationName=null, ribbonServerName=null, resourcePath=/Users/sermsook.pul/acm-core-service-2/target/core-service-4.0.27.jar, className=com.tmn.core.controller.TransController, methodName=isActive, returnType=org.springframework.http.ResponseEntity, path=/trans/isActive, httpMethod=POST, pathParams=null, queryParams=null, consumeType=null, produceType=null), RestEntity(isClient=true, url={0}, applicationName=null, ribbonServerName=null, resourcePath=/Users/sermsook.pul/acm-core-service-2/target/core-service-4.0.27.jar, className=com.tmn.core.client.utiba.rest.UpdateAccountRestRequestor, methodName=executeRequest, returnType=java.lang.Object, path=/, httpMethod=GET, pathParams=null, queryParams=null, consumeType=null, produceType=null), RestEntity(isClient=false, url=/checkTransStatus, applicationName=null, ribbonServerName=null, resourcePath=/Users/sermsook.pul/acm-core-service-2/target/core-service-4.0.27.jar, className=com.tmn.core.controller.WalletAdministrationController, methodName=checkTransStatus, returnType=com.tmn.core.api.message.CheckTransStatusResponse, path=/wallet-administration/checkTransStatus, httpMethod=POST, pathParams=null, queryParams=null, consumeType=null, produceType=null), RestEntity(isClient=false, url=/load, applicationName=null, ribbonServerName=null, resourcePath=/Users/sermsook.pul/acm-core-service-2/target/core-service-4.0.27.jar, className=com.tmn.core.controller.WalletAdministrationController, methodName=load, returnType=com.tmn.core.api.message.PaymentResponse, path=/wallet-administration/load, httpMethod=POST, pathParams=null, queryParams=null, consumeType=null, produceType=null), RestEntity(isClient=false, url=/cancelLoad, applicationName=null, ribbonServerName=null, resourcePath=/Users/sermsook.pul/acm-core-service-2/target/core-service-4.0.27.jar, className=com.tmn.core.controller.WalletAdministrationController, methodName=cancelLoad, returnType=com.tmn.core.api.message.StandardBizResponse, path=/wallet-administration/cancelLoad, httpMethod=POST, pathParams=null, queryParams=null, consumeType=null, produceType=null), RestEntity(isClient=false, url=/verifyDeduct, applicationName=null, ribbonServerName=null, resourcePath=/Users/sermsook.pul/acm-core-service-2/target/core-service-4.0.27.jar, className=com.tmn.core.controller.WalletAdministrationController, methodName=verifyDeduct, returnType=com.tmn.core.api.message.StandardBizResponse, path=/wallet-administration/verifyDeduct, httpMethod=POST, pathParams=null, queryParams=null, consumeType=null, produceType=null), RestEntity(isClient=false, url=/updateTransDetail, applicationName=null, ribbonServerName=null, resourcePath=/Users/sermsook.pul/acm-core-service-2/target/core-service-4.0.27.jar, className=com.tmn.core.controller.WalletAdministrationController, methodName=updateTransactionDetail, returnType=com.tmn.core.api.message.StandardBizResponse, path=/wallet-administration/updateTransDetail, httpMethod=POST, pathParams=null, queryParams=null, consumeType=null, produceType=null), RestEntity(isClient=false, url=/deduct, applicationName=null, ribbonServerName=null, resourcePath=/Users/sermsook.pul/acm-core-service-2/target/core-service-4.0.27.jar, className=com.tmn.core.controller.WalletAdministrationController, methodName=deduct, returnType=com.tmn.core.api.message.PaymentResponse, path=/wallet-administration/deduct, httpMethod=POST, pathParams=null, queryParams=null, consumeType=null, produceType=null), RestEntity(isClient=false, url=/cancelSell, applicationName=null, ribbonServerName=null, resourcePath=/Users/sermsook.pul/acm-core-service-2/target/core-service-4.0.27.jar, className=com.tmn.core.controller.WalletAdministrationController, methodName=cancelSell, returnType=com.tmn.core.api.message.StandardBizResponse, path=/wallet-administration/cancelSell, httpMethod=POST, pathParams=null, queryParams=null, consumeType=null, produceType=null), RestEntity(isClient=false, url=/transfer, applicationName=null, ribbonServerName=null, resourcePath=/Users/sermsook.pul/acm-core-service-2/target/core-service-4.0.27.jar, className=com.tmn.core.controller.WalletAdministrationController, methodName=transfer, returnType=com.tmn.core.api.message.StandardBizResponse, path=/wallet-administration/transfer, httpMethod=POST, pathParams=null, queryParams=null, consumeType=null, produceType=null), RestEntity(isClient=false, url=/cancelDeduct, applicationName=null, ribbonServerName=null, resourcePath=/Users/sermsook.pul/acm-core-service-2/target/core-service-4.0.27.jar, className=com.tmn.core.controller.WalletAdministrationController, methodName=cancelDeduct, returnType=com.tmn.core.api.message.StandardBizResponse, path=/wallet-administration/cancelDeduct, httpMethod=POST, pathParams=null, queryParams=null, consumeType=null, produceType=null), RestEntity(isClient=false, url=/cancelDebit, applicationName=null, ribbonServerName=null, resourcePath=/Users/sermsook.pul/acm-core-service-2/target/core-service-4.0.27.jar, className=com.tmn.core.controller.WalletAdministrationController, methodName=cancelDebit, returnType=com.tmn.core.api.message.StandardBizResponse, path=/wallet-administration/cancelDebit, httpMethod=POST, pathParams=null, queryParams=null, consumeType=null, produceType=null), RestEntity(isClient=false, url=/verifyTransfer, applicationName=null, ribbonServerName=null, resourcePath=/Users/sermsook.pul/acm-core-service-2/target/core-service-4.0.27.jar, className=com.tmn.core.controller.WalletAdministrationController, methodName=verifyTransfer, returnType=com.tmn.core.api.message.StandardBizResponse, path=/wallet-administration/verifyTransfer, httpMethod=POST, pathParams=null, queryParams=null, consumeType=null, produceType=null), RestEntity(isClient=false, url=/sell, applicationName=null, ribbonServerName=null, resourcePath=/Users/sermsook.pul/acm-core-service-2/target/core-service-4.0.27.jar, className=com.tmn.core.controller.WalletAdministrationController, methodName=sell, returnType=com.tmn.core.api.message.StandardBizResponse, path=/wallet-administration/sell, httpMethod=POST, pathParams=null, queryParams=null, consumeType=null, produceType=null), RestEntity(isClient=true, url={0}, applicationName=null, ribbonServerName=null, resourcePath=/Users/sermsook.pul/acm-core-service-2/target/core-service-4.0.27.jar, className=com.tmn.core.client.utiba.rest.TransferRestRequestor, methodName=executeRequest, returnType=java.lang.Object, path=/, httpMethod=GET, pathParams=null, queryParams=null, consumeType=null, produceType=null), RestEntity(isClient=false, url=http://localhost:null/agents/mobile/{mobile}, applicationName=null, ribbonServerName=null, resourcePath=/Users/sermsook.pul/acm-core-service-2/target/core-service-4.0.27.jar, className=com.tmn.core.controller.AgentController, methodName=getAgentMobileStatus, returnType=com.tmn.core.api.message.TmnProfileAgentStatus, path=/agents/mobile/{mobile}, httpMethod=GET, pathParams=[Param(name=mobile, defaultValue=)], queryParams=null, consumeType=null, produceType=null), RestEntity(isClient=false, url=http://localhost:null/agents/tmn/{tmnId}, applicationName=null, ribbonServerName=null, resourcePath=/Users/sermsook.pul/acm-core-service-2/target/core-service-4.0.27.jar, className=com.tmn.core.controller.AgentController, methodName=getAgentTmnStatus, returnType=com.tmn.core.api.message.TmnProfileAgentStatus, path=/agents/tmn/{tmnId}, httpMethod=GET, pathParams=[Param(name=tmnId, defaultValue=)], queryParams=null, consumeType=null, produceType=null), RestEntity(isClient=false, url=http://localhost:null/agents/email/{email}, applicationName=null, ribbonServerName=null, resourcePath=/Users/sermsook.pul/acm-core-service-2/target/core-service-4.0.27.jar, className=com.tmn.core.controller.AgentController, methodName=getAgentEmailStatus, returnType=com.tmn.core.api.message.TmnProfileAgentStatus, path=/agents/email/{email}, httpMethod=GET, pathParams=[Param(name=email, defaultValue=)], queryParams=null, consumeType=null, produceType=null), RestEntity(isClient=false, url=/version, applicationName=null, ribbonServerName=null, resourcePath=/Users/sermsook.pul/acm-core-service-2/target/core-service-4.0.27.jar, className=com.tmn.core.controller.VersionController, methodName=version, returnType=java.lang.String, path=/version, httpMethod=GET, pathParams=null, queryParams=null, consumeType=null, produceType=null), RestEntity(isClient=false, url=/register, applicationName=null, ribbonServerName=null, resourcePath=/Users/sermsook.pul/acm-core-service-2/target/core-service-4.0.27.jar, className=com.tmn.core.controller.TmxAgentProfileController, methodName=registerTmxAgent, returnType=com.tmn.core.api.message.tmxprofile.RegisterResponse, path=/tmx-agent-profile/register, httpMethod=POST, pathParams=null, queryParams=null, consumeType=null, produceType=null), RestEntity(isClient=false, url=/terminateSession, applicationName=null, ribbonServerName=null, resourcePath=/Users/sermsook.pul/acm-core-service-2/target/core-service-4.0.27.jar, className=com.tmn.core.controller.TmnSecurityController, methodName=terminateSession, returnType=com.tmn.core.api.message.StandardBizResponse, path=/tmn-security/terminateSession, httpMethod=POST, pathParams=null, queryParams=null, consumeType=null, produceType=null), RestEntity(isClient=false, url=/signon, applicationName=null, ribbonServerName=null, resourcePath=/Users/sermsook.pul/acm-core-service-2/target/core-service-4.0.27.jar, className=com.tmn.core.controller.TmnSecurityController, methodName=signon, returnType=com.tmn.core.api.message.SignonResponse, path=/tmn-security/signon, httpMethod=POST, pathParams=null, queryParams=null, consumeType=null, produceType=null), RestEntity(isClient=true, url={0}, applicationName=null, ribbonServerName=null, resourcePath=/Users/sermsook.pul/acm-core-service-2/target/core-service-4.0.27.jar, className=com.tmn.core.client.utiba.rest.DeleteRestRequestor, methodName=executeRequest, returnType=java.lang.Object, path=/, httpMethod=GET, pathParams=null, queryParams=null, consumeType=null, produceType=null), RestEntity(isClient=true, url={0}, applicationName=null, ribbonServerName=null, resourcePath=/Users/sermsook.pul/acm-core-service-2/target/core-service-4.0.27.jar, className=com.tmn.core.client.AbstractServiceRestRequestor, methodName=executeRequest, returnType=java.lang.Object, path=/, httpMethod=GET, pathParams=null, queryParams=null, consumeType=null, produceType=null), RestEntity(isClient=true, url={0}, applicationName=null, ribbonServerName=null, resourcePath=/Users/sermsook.pul/acm-core-service-2/target/core-service-4.0.27.jar, className=com.tmn.core.client.utiba.rest.SellRestRequestor, methodName=executeRequest, returnType=java.lang.Object, path=/, httpMethod=GET, pathParams=null, queryParams=null, consumeType=null, produceType=null), RestEntity(isClient=false, url=/v2/profiles, applicationName=null, ribbonServerName=null, resourcePath=/Users/sermsook.pul/acm-core-service-2/target/core-service-4.0.27.jar, className=com.tmn.core.controller.ProfileController, methodName=createProfileV2, returnType=org.springframework.http.ResponseEntity, path=/v2/profiles, httpMethod=POST, pathParams=null, queryParams=null, consumeType=null, produceType=null), RestEntity(isClient=false, url=http://localhost:null/profiles/wallet/{ref}, applicationName=null, ribbonServerName=null, resourcePath=/Users/sermsook.pul/acm-core-service-2/target/core-service-4.0.27.jar, className=com.tmn.core.controller.ProfileController, methodName=getWalletProfile, returnType=org.springframework.http.ResponseEntity, path=/profiles/wallet/{ref}, httpMethod=GET, pathParams=[Param(name=ref, defaultValue=)], queryParams=null, consumeType=null, produceType=null), RestEntity(isClient=false, url=/verify, applicationName=null, ribbonServerName=null, resourcePath=/Users/sermsook.pul/acm-core-service-2/target/core-service-4.0.27.jar, className=com.tmn.core.controller.ProfileController, methodName=verifyUpdateProfileByTmnId, returnType=org.springframework.http.ResponseEntity, path=/v3/profiles/{tmnid}/verify, httpMethod=POST, pathParams=[Param(name=tmnid, defaultValue=)], queryParams=null, consumeType=null, produceType=null), RestEntity(isClient=false, url=http://localhost:null/profile/updateKycVerifyStatus/{tmnId}, applicationName=null, ribbonServerName=null, resourcePath=/Users/sermsook.pul/acm-core-service-2/target/core-service-4.0.27.jar, className=com.tmn.core.controller.ProfileController, methodName=updateKycStatusByTmnId, returnType=org.springframework.http.ResponseEntity, path=/profile/updateKycVerifyStatus/{tmnId}, httpMethod=PUT, pathParams=[Param(name=tmnId, defaultValue=)], queryParams=null, consumeType=null, produceType=null), RestEntity(isClient=false, url=http://localhost:null/profiles/{agentRef}, applicationName=null, ribbonServerName=null, resourcePath=/Users/sermsook.pul/acm-core-service-2/target/core-service-4.0.27.jar, className=com.tmn.core.controller.ProfileController, methodName=getProfileByAgentRef, returnType=org.springframework.http.ResponseEntity, path=/profiles/{agentRef}, httpMethod=GET, pathParams=[Param(name=agentRef, defaultValue=)], queryParams=null, consumeType=null, produceType=null), RestEntity(isClient=false, url=http://localhost:null/kyc/profiles/{tmnId}, applicationName=null, ribbonServerName=null, resourcePath=/Users/sermsook.pul/acm-core-service-2/target/core-service-4.0.27.jar, className=com.tmn.core.controller.ProfileController, methodName=updateKycProfileByTmnId, returnType=com.tmn.core.api.message.BasicResponse, path=/kyc/profiles/{tmnId}, httpMethod=POST, pathParams=[Param(name=tmnId, defaultValue=)], queryParams=null, consumeType=null, produceType=null), RestEntity(isClient=false, url=http://localhost:null/profile/{reference}, applicationName=null, ribbonServerName=null, resourcePath=/Users/sermsook.pul/acm-core-service-2/target/core-service-4.0.27.jar, className=com.tmn.core.controller.ProfileController, methodName=getSingleProfileByReference, returnType=org.springframework.http.ResponseEntity, path=/profile/{reference}, httpMethod=GET, pathParams=[Param(name=reference, defaultValue=)], queryParams=[Param(name=VARIABLE_NAME, defaultValue=)], consumeType=null, produceType=null), RestEntity(isClient=false, url=http://localhost:null/v3/profiles/{tmnid}, applicationName=null, ribbonServerName=null, resourcePath=/Users/sermsook.pul/acm-core-service-2/target/core-service-4.0.27.jar, className=com.tmn.core.controller.ProfileController, methodName=updateProfileByTmnId, returnType=org.springframework.http.ResponseEntity, path=/v3/profiles/{tmnid}, httpMethod=PATCH, pathParams=[Param(name=tmnid, defaultValue=)], queryParams=null, consumeType=null, produceType=null), RestEntity(isClient=false, url=/upgradeMinimalProfile, applicationName=null, ribbonServerName=null, resourcePath=/Users/sermsook.pul/acm-core-service-2/target/core-service-4.0.27.jar, className=com.tmn.core.controller.ProfileController, methodName=upgradeMinimalProfile, returnType=org.springframework.http.ResponseEntity, path=/upgradeMinimalProfile, httpMethod=POST, pathParams=null, queryParams=null, consumeType=null, produceType=null), RestEntity(isClient=false, url=/profiles, applicationName=null, ribbonServerName=null, resourcePath=/Users/sermsook.pul/acm-core-service-2/target/core-service-4.0.27.jar, className=com.tmn.core.controller.ProfileController, methodName=createProfile, returnType=org.springframework.http.HttpEntity, path=/profiles, httpMethod=POST, pathParams=null, queryParams=null, consumeType=null, produceType=null), RestEntity(isClient=false, url=/v2/profiles/verification, applicationName=null, ribbonServerName=null, resourcePath=/Users/sermsook.pul/acm-core-service-2/target/core-service-4.0.27.jar, className=com.tmn.core.controller.ProfileController, methodName=verifyProfileV2, returnType=com.tmn.core.api.message.RegisterProfileResponse, path=/v2/profiles/verification, httpMethod=POST, pathParams=null, queryParams=null, consumeType=null, produceType=null), RestEntity(isClient=false, url=/list, applicationName=null, ribbonServerName=null, resourcePath=/Users/sermsook.pul/acm-core-service-2/target/core-service-4.0.27.jar, className=com.tmn.core.controller.ProfileController, methodName=getProfileByReferenceList, returnType=org.springframework.http.ResponseEntity, path=/profiles/{referenceType}/list, httpMethod=POST, pathParams=[Param(name=referenceType, defaultValue=)], queryParams=[Param(name=VARIABLE_NAME, defaultValue=)], consumeType=null, produceType=null), RestEntity(isClient=false, url=/createMinimalProfile, applicationName=null, ribbonServerName=null, resourcePath=/Users/sermsook.pul/acm-core-service-2/target/core-service-4.0.27.jar, className=com.tmn.core.controller.ProfileController, methodName=createMinimalProfile, returnType=org.springframework.http.ResponseEntity, path=/createMinimalProfile, httpMethod=POST, pathParams=null, queryParams=null, consumeType=null, produceType=null), RestEntity(isClient=true, url={0}, applicationName=null, ribbonServerName=null, resourcePath=/Users/sermsook.pul/acm-core-service-2/target/core-service-4.0.27.jar, className=com.tmn.core.client.utiba.rest.UtibaAbstractRestRequestor, methodName=executeRequest, returnType=java.lang.Object, path=/, httpMethod=GET, pathParams=null, queryParams=null, consumeType=null, produceType=null), RestEntity(isClient=false, url=/wallet/verifyDebit, applicationName=null, ribbonServerName=null, resourcePath=/Users/sermsook.pul/acm-core-service-2/target/core-service-4.0.27.jar, className=com.tmn.core.controller.WalletController, methodName=verifyDebit, returnType=com.tmn.core.api.message.StandardMoneyResponse, path=/wallet/verifyDebit, httpMethod=POST, pathParams=null, queryParams=null, consumeType=null, produceType=null), RestEntity(isClient=false, url=/wallet/v2/addMoneyCashcard, applicationName=null, ribbonServerName=null, resourcePath=/Users/sermsook.pul/acm-core-service-2/target/core-service-4.0.27.jar, className=com.tmn.core.controller.WalletController, methodName=addMoneyByCashcardV2, returnType=com.tmn.core.api.message.StandardMoneyResponse, path=/wallet/v2/addMoneyCashcard, httpMethod=POST, pathParams=null, queryParams=null, consumeType=null, produceType=null), RestEntity(isClient=false, url=/wallet/debit, applicationName=null, ribbonServerName=null, resourcePath=/Users/sermsook.pul/acm-core-service-2/target/core-service-4.0.27.jar, className=com.tmn.core.controller.WalletController, methodName=debit, returnType=com.tmn.core.api.message.StandardMoneyResponse, path=/wallet/debit, httpMethod=POST, pathParams=null, queryParams=null, consumeType=null, produceType=null), RestEntity(isClient=false, url=/wallet/verifyAddMoney, applicationName=null, ribbonServerName=null, resourcePath=/Users/sermsook.pul/acm-core-service-2/target/core-service-4.0.27.jar, className=com.tmn.core.controller.WalletController, methodName=verifyAddMoney, returnType=com.tmn.core.api.message.StandardMoneyResponse, path=/wallet/verifyAddMoney, httpMethod=POST, pathParams=null, queryParams=null, consumeType=null, produceType=null), RestEntity(isClient=false, url=/wallet/verifyReferenceList, applicationName=null, ribbonServerName=null, resourcePath=/Users/sermsook.pul/acm-core-service-2/target/core-service-4.0.27.jar, className=com.tmn.core.controller.WalletController, methodName=verifyReference, returnType=com.tmn.core.api.message.VerifyReferenceResponseList, path=/wallet/verifyReferenceList, httpMethod=POST, pathParams=null, queryParams=null, consumeType=null, produceType=null), RestEntity(isClient=false, url=/wallet/getBalance, applicationName=null, ribbonServerName=null, resourcePath=/Users/sermsook.pul/acm-core-service-2/target/core-service-4.0.27.jar, className=com.tmn.core.controller.WalletController, methodName=getBalance, returnType=com.tmn.core.api.message.GetBalanceResponse, path=/wallet/getBalance, httpMethod=POST, pathParams=null, queryParams=null, consumeType=null, produceType=null), RestEntity(isClient=false, url=/wallet/transfer, applicationName=null, ribbonServerName=null, resourcePath=/Users/sermsook.pul/acm-core-service-2/target/core-service-4.0.27.jar, className=com.tmn.core.controller.WalletController, methodName=transfer, returnType=com.tmn.core.api.message.StandardMoneyResponse, path=/wallet/transfer, httpMethod=POST, pathParams=null, queryParams=null, consumeType=null, produceType=null), RestEntity(isClient=false, url=/wallet/verifyTransfer, applicationName=null, ribbonServerName=null, resourcePath=/Users/sermsook.pul/acm-core-service-2/target/core-service-4.0.27.jar, className=com.tmn.core.controller.WalletController, methodName=verifyTransfer, returnType=com.tmn.core.api.message.VerifyTransferResponse, path=/wallet/verifyTransfer, httpMethod=POST, pathParams=null, queryParams=null, consumeType=null, produceType=null), RestEntity(isClient=false, url=/migratePassword, applicationName=null, ribbonServerName=null, resourcePath=/Users/sermsook.pul/acm-core-service-2/target/core-service-4.0.27.jar, className=com.tmn.core.controller.WalletMigrationController, methodName=migratePassword, returnType=org.springframework.http.ResponseEntity, path=/wallet-migration/migratePassword, httpMethod=POST, pathParams=null, queryParams=null, consumeType=null, produceType=null), RestEntity(isClient=false, url=/fee/withdraw, applicationName=null, ribbonServerName=null, resourcePath=/Users/sermsook.pul/acm-core-service-2/target/core-service-4.0.27.jar, className=com.tmn.core.controller.UtibaRuleController, methodName=calculateWithdrawFee, returnType=com.tmn.core.api.message.CalculateFeeResponse, path=/utiba-rule/fee/withdraw, httpMethod=POST, pathParams=null, queryParams=null, consumeType=null, produceType=null), RestEntity(isClient=false, url=/getAccount, applicationName=null, ribbonServerName=null, resourcePath=/Users/sermsook.pul/acm-core-service-2/target/core-service-4.0.27.jar, className=com.tmn.core.controller.TmnAccountAdministrationController, methodName=getAccount, returnType=com.tmn.core.api.message.StandardBizResponse, path=/tmn-account-administration/getAccount, httpMethod=POST, pathParams=null, queryParams=null, consumeType=null, produceType=null), RestEntity(isClient=false, url=/updateAccount, applicationName=null, ribbonServerName=null, resourcePath=/Users/sermsook.pul/acm-core-service-2/target/core-service-4.0.27.jar, className=com.tmn.core.controller.TmnAccountAdministrationController, methodName=updateAccount, returnType=com.tmn.core.api.message.StandardBizResponse, path=/tmn-account-administration/updateAccount, httpMethod=POST, pathParams=null, queryParams=null, consumeType=null, produceType=null), RestEntity(isClient=true, url={0}, applicationName=null, ribbonServerName=null, resourcePath=/Users/sermsook.pul/acm-core-service-2/target/core-service-4.0.27.jar, className=com.tmn.core.client.utiba.rest.AdjustmentRestRequestor, methodName=executeRequest, returnType=java.lang.Object, path=/, httpMethod=GET, pathParams=null, queryParams=null, consumeType=null, produceType=null), RestEntity(isClient=false, url=/caches, applicationName=null, ribbonServerName=null, resourcePath=/Users/sermsook.pul/acm-core-service-2/target/core-service-4.0.27.jar, className=com.tmn.core.controller.CacheController, methodName=clearCache, returnType=java.lang.String, path=/caches, httpMethod=DELETE, pathParams=null, queryParams=null, consumeType=null, produceType=null), RestEntity(isClient=false, url=/createUserHistory, applicationName=null, ribbonServerName=null, resourcePath=/Users/sermsook.pul/acm-core-service-2/target/core-service-4.0.27.jar, className=com.tmn.core.controller.TmnProfileAdministrationController, methodName=createUserHistory, returnType=com.tmn.core.api.message.CreateUserHistoryResponse, path=/tmn-profile-administration/createUserHistory, httpMethod=POST, pathParams=null, queryParams=null, consumeType=null, produceType=null), RestEntity(isClient=false, url=/confirmResetForgotPassword, applicationName=null, ribbonServerName=null, resourcePath=/Users/sermsook.pul/acm-core-service-2/target/core-service-4.0.27.jar, className=com.tmn.core.controller.TmnProfileAdministrationController, methodName=confirmResetForgotPassword, returnType=com.tmn.core.api.message.StandardBizResponse, path=/tmn-profile-administration/confirmResetForgotPassword, httpMethod=POST, pathParams=null, queryParams=null, consumeType=null, produceType=null), RestEntity(isClient=false, url=/createForgotPassword, applicationName=null, ribbonServerName=null, resourcePath=/Users/sermsook.pul/acm-core-service-2/target/core-service-4.0.27.jar, className=com.tmn.core.controller.TmnProfileAdministrationController, methodName=createForgotPassword, returnType=com.tmn.core.api.message.CreateForgotPasswordResponse, path=/tmn-profile-administration/createForgotPassword, httpMethod=POST, pathParams=null, queryParams=null, consumeType=null, produceType=null), RestEntity(isClient=false, url=/createForgotToken, applicationName=null, ribbonServerName=null, resourcePath=/Users/sermsook.pul/acm-core-service-2/target/core-service-4.0.27.jar, className=com.tmn.core.controller.TmnProfileAdministrationController, methodName=createForgotToken, returnType=com.tmn.core.api.message.CreateForgotPasswordResponse, path=/tmn-profile-administration/createForgotToken, httpMethod=POST, pathParams=null, queryParams=null, consumeType=null, produceType=null), RestEntity(isClient=false, url=/getCustomerProfile, applicationName=null, ribbonServerName=null, resourcePath=/Users/sermsook.pul/acm-core-service-2/target/core-service-4.0.27.jar, className=com.tmn.core.controller.TmnProfileAdministrationController, methodName=getCustomerProfile, returnType=com.tmn.core.api.message.GetCustomerProfileResponse, path=/tmn-profile-administration/getCustomerProfile, httpMethod=POST, pathParams=null, queryParams=null, consumeType=null, produceType=null), RestEntity(isClient=false, url=/isExistPartner, applicationName=null, ribbonServerName=null, resourcePath=/Users/sermsook.pul/acm-core-service-2/target/core-service-4.0.27.jar, className=com.tmn.core.controller.TmnProfileAdministrationController, methodName=isExistPartner, returnType=com.tmn.core.api.message.IsExistPartnerResponse, path=/tmn-profile-administration/isExistPartner, httpMethod=POST, pathParams=null, queryParams=null, consumeType=null, produceType=null), RestEntity(isClient=false, url=/updateAgentData, applicationName=null, ribbonServerName=null, resourcePath=/Users/sermsook.pul/acm-core-service-2/target/core-service-4.0.27.jar, className=com.tmn.core.controller.TmnProfileAdministrationController, methodName=updateAgentData, returnType=com.tmn.core.api.message.StandardBizResponse, path=/tmn-profile-administration/updateAgentData, httpMethod=POST, pathParams=null, queryParams=null, consumeType=null, produceType=null), RestEntity(isClient=false, url=/getBodyIdBySalt, applicationName=null, ribbonServerName=null, resourcePath=/Users/sermsook.pul/acm-core-service-2/target/core-service-4.0.27.jar, className=com.tmn.core.controller.TmnProfileAdministrationController, methodName=getBodyIdBySalt, returnType=com.tmn.core.api.message.GetBodyIdResponse, path=/tmn-profile-administration/getBodyIdBySalt, httpMethod=POST, pathParams=null, queryParams=null, consumeType=null, produceType=null), RestEntity(isClient=false, url=/getTmnProfileByWalletToken, applicationName=null, ribbonServerName=null, resourcePath=/Users/sermsook.pul/acm-core-service-2/target/core-service-4.0.27.jar, className=com.tmn.core.controller.TmnProfileAdministrationController, methodName=getTmnProfileByWalletToken, returnType=com.tmn.core.api.message.GetTmnProfileByWalletTokenResponse, path=/tmn-profile-administration/getTmnProfileByWalletToken, httpMethod=POST, pathParams=null, queryParams=null, consumeType=null, produceType=null), RestEntity(isClient=false, url=/verifyProfileForgotPassword, applicationName=null, ribbonServerName=null, resourcePath=/Users/sermsook.pul/acm-core-service-2/target/core-service-4.0.27.jar, className=com.tmn.core.controller.TmnProfileAdministrationController, methodName=verifyProfileForgotPassword, returnType=com.tmn.core.api.message.CreateForgotPasswordResponse, path=/tmn-profile-administration/verifyProfileForgotPassword, httpMethod=POST, pathParams=null, queryParams=null, consumeType=null, produceType=null), RestEntity(isClient=false, url=/verifyForgotPassword, applicationName=null, ribbonServerName=null, resourcePath=/Users/sermsook.pul/acm-core-service-2/target/core-service-4.0.27.jar, className=com.tmn.core.controller.TmnProfileAdministrationController, methodName=verifyForgotPassword, returnType=com.tmn.core.api.message.VerifyForgotPasswordResponse, path=/tmn-profile-administration/verifyForgotPassword, httpMethod=POST, pathParams=null, queryParams=null, consumeType=null, produceType=null), RestEntity(isClient=false, url=/deleteProfile, applicationName=null, ribbonServerName=null, resourcePath=/Users/sermsook.pul/acm-core-service-2/target/core-service-4.0.27.jar, className=com.tmn.core.controller.TmnProfileAdministrationController, methodName=deleteProfile, returnType=com.tmn.core.api.message.StandardBizResponse, path=/tmn-profile-administration/deleteProfile, httpMethod=POST, pathParams=null, queryParams=null, consumeType=null, produceType=null), RestEntity(isClient=false, url=/isCreatable, applicationName=null, ribbonServerName=null, resourcePath=/Users/sermsook.pul/acm-core-service-2/target/core-service-4.0.27.jar, className=com.tmn.core.controller.TmnProfileAdministrationController, methodName=isCreatable, returnType=com.tmn.core.api.message.StandardBizResponse, path=/tmn-profile-administration/isCreatable, httpMethod=POST, pathParams=null, queryParams=null, consumeType=null, produceType=null), RestEntity(isClient=false, url=/confirmForgotPassword, applicationName=null, ribbonServerName=null, resourcePath=/Users/sermsook.pul/acm-core-service-2/target/core-service-4.0.27.jar, className=com.tmn.core.controller.TmnProfileAdministrationController, methodName=confirmForgotPassword, returnType=com.tmn.core.api.message.StandardBizResponse, path=/tmn-profile-administration/confirmForgotPassword, httpMethod=POST, pathParams=null, queryParams=null, consumeType=null, produceType=null), RestEntity(isClient=true, url={0}, applicationName=null, ribbonServerName=null, resourcePath=/Users/sermsook.pul/acm-core-service-2/target/core-service-4.0.27.jar, className=com.tmn.core.service.cashcard.CashCardServiceHTTPImpl, methodName=getCashCardV2, returnType=com.tmn.core.domain.CashCard, path=/, httpMethod=POST, pathParams=null, queryParams=null, consumeType=null, produceType=null), RestEntity(isClient=true, url={0}, applicationName=null, ribbonServerName=null, resourcePath=/Users/sermsook.pul/acm-core-service-2/target/core-service-4.0.27.jar, className=com.tmn.core.client.utiba.rest.BuyRestRequestor, methodName=executeRequest, returnType=java.lang.Object, path=/, httpMethod=GET, pathParams=null, queryParams=null, consumeType=null, produceType=null), RestEntity(isClient=false, url=/updateProfile, applicationName=null, ribbonServerName=null, resourcePath=/Users/sermsook.pul/acm-core-service-2/target/core-service-4.0.27.jar, className=com.tmn.core.controller.TmnProfileController, methodName=updateProfile, returnType=com.tmn.core.api.message.StandardBizResponse, path=/tmn-profile/updateProfile, httpMethod=POST, pathParams=null, queryParams=null, consumeType=null, produceType=null), RestEntity(isClient=false, url=/setPin, applicationName=null, ribbonServerName=null, resourcePath=/Users/sermsook.pul/acm-core-service-2/target/core-service-4.0.27.jar, className=com.tmn.core.controller.TmnProfileController, methodName=setNewPin, returnType=com.tmn.core.api.message.StandardBizResponse, path=/tmn-profile/setPin, httpMethod=POST, pathParams=null, queryParams=null, consumeType=null, produceType=null), RestEntity(isClient=false, url=/getProfile, applicationName=null, ribbonServerName=null, resourcePath=/Users/sermsook.pul/acm-core-service-2/target/core-service-4.0.27.jar, className=com.tmn.core.controller.TmnProfileController, methodName=getProfile, returnType=com.tmn.core.api.message.GetProfileResponse, path=/tmn-profile/getProfile, httpMethod=POST, pathParams=null, queryParams=null, consumeType=null, produceType=null), RestEntity(isClient=false, url=/changePassword, applicationName=null, ribbonServerName=null, resourcePath=/Users/sermsook.pul/acm-core-service-2/target/core-service-4.0.27.jar, className=com.tmn.core.controller.TmnProfileController, methodName=changePassword, returnType=com.tmn.core.api.message.StandardBizResponse, path=/tmn-profile/changePassword, httpMethod=POST, pathParams=null, queryParams=null, consumeType=null, produceType=null), RestEntity(isClient=false, url=/getProfilesByIdentification, applicationName=null, ribbonServerName=null, resourcePath=/Users/sermsook.pul/acm-core-service-2/target/core-service-4.0.27.jar, className=com.tmn.core.controller.TmnProfileController, methodName=getProfilesByIdentification, returnType=org.springframework.http.ResponseEntity, path=/tmn-profile/getProfilesByIdentification, httpMethod=POST, pathParams=null, queryParams=null, consumeType=null, produceType=null), RestEntity(isClient=false, url=/kiosk, applicationName=null, ribbonServerName=null, resourcePath=/Users/sermsook.pul/acm-core-service-2/target/core-service-4.0.27.jar, className=com.tmn.core.controller.TmnProfileController, methodName=createTmnProfile, returnType=com.tmn.core.api.message.CreateTmnProfileResponse, path=/tmn-profile/kiosk, httpMethod=POST, pathParams=null, queryParams=null, consumeType=null, produceType=null), RestEntity(isClient=false, url=/isFavorited, applicationName=null, ribbonServerName=null, resourcePath=/Users/sermsook.pul/acm-core-service-2/target/core-service-4.0.27.jar, className=com.tmn.core.controller.TmnProfileController, methodName=isFavorited, returnType=com.tmn.core.api.message.StandardBizResponse, path=/tmn-profile/isFavorited, httpMethod=POST, pathParams=null, queryParams=null, consumeType=null, produceType=null), RestEntity(isClient=false, url=/createPin, applicationName=null, ribbonServerName=null, resourcePath=/Users/sermsook.pul/acm-core-service-2/target/core-service-4.0.27.jar, className=com.tmn.core.controller.TmnProfileController, methodName=createPin, returnType=com.tmn.core.api.message.StandardBizResponse, path=/tmn-profile/createPin, httpMethod=POST, pathParams=null, queryParams=null, consumeType=null, produceType=null), RestEntity(isClient=false, url=/business/upgradeTmnProfile, applicationName=null, ribbonServerName=null, resourcePath=/Users/sermsook.pul/acm-core-service-2/target/core-service-4.0.27.jar, className=com.tmn.core.controller.TmnProfileController, methodName=upgradeTmnProfileToBusiness, returnType=com.tmn.core.api.message.UpgradeTmnProfileToBusinessResponse, path=/tmn-profile/business/upgradeTmnProfile, httpMethod=POST, pathParams=null, queryParams=null, consumeType=null, produceType=null), RestEntity(isClient=false, url=/deleteFavorite, applicationName=null, ribbonServerName=null, resourcePath=/Users/sermsook.pul/acm-core-service-2/target/core-service-4.0.27.jar, className=com.tmn.core.controller.TmnProfileController, methodName=deleteFavorite, returnType=com.tmn.core.api.message.StandardBizResponse, path=/tmn-profile/deleteFavorite, httpMethod=POST, pathParams=null, queryParams=null, consumeType=null, produceType=null), RestEntity(isClient=false, url=/addFavorite, applicationName=null, ribbonServerName=null, resourcePath=/Users/sermsook.pul/acm-core-service-2/target/core-service-4.0.27.jar, className=com.tmn.core.controller.TmnProfileController, methodName=addFavorite, returnType=com.tmn.core.api.message.AddFavoriteResponse, path=/tmn-profile/addFavorite, httpMethod=POST, pathParams=null, queryParams=null, consumeType=null, produceType=null), RestEntity(isClient=false, url=/listFavorite, applicationName=null, ribbonServerName=null, resourcePath=/Users/sermsook.pul/acm-core-service-2/target/core-service-4.0.27.jar, className=com.tmn.core.controller.TmnProfileController, methodName=listFavorite, returnType=com.tmn.core.api.message.ListFavoriteResponse, path=/tmn-profile/listFavorite, httpMethod=POST, pathParams=null, queryParams=null, consumeType=null, produceType=null), RestEntity(isClient=true, url={0}, applicationName=null, ribbonServerName=null, resourcePath=/Users/sermsook.pul/acm-core-service-2/target/core-service-4.0.27.jar, className=com.tmn.core.client.utiba.rest.BillPayRestRequestor, methodName=executeRequest, returnType=java.lang.Object, path=/, httpMethod=GET, pathParams=null, queryParams=null, consumeType=null, produceType=null), RestEntity(isClient=false, url=/changePassword, applicationName=null, ribbonServerName=null, resourcePath=/Users/sermsook.pul/acm-core-service-2/target/core-service-4.0.27.jar, className=com.tmn.core.controller.TmxAgentController, methodName=changeTmxPassword, returnType=com.tmn.core.api.message.StandardBizResponse, path=/tmx-agent-profile/changePassword, httpMethod=POST, pathParams=null, queryParams=null, consumeType=null, produceType=null), RestEntity(isClient=true, url={0}, applicationName=null, ribbonServerName=null, resourcePath=/Users/sermsook.pul/acm-core-service-2/target/core-service-4.0.27.jar, className=com.tmn.core.client.risk.rest.VerifyBlacklistRestRequestor, methodName=executeRequest, returnType=java.lang.Object, path=/, httpMethod=GET, pathParams=null, queryParams=null, consumeType=null, produceType=null)])
         */
        return responseContext.getRestEntityContexts().size() >= 50;  //ถ้ามี #connections >= 50 ก็ควรจะใช้ APIGateway
    }

    @CrossOrigin(origins = "*")
    @RequestMapping(path = "/inappropriateServiceIntimacy", method = RequestMethod.POST, produces = "application/json; charset=UTF-8", consumes = {"text/plain", "application/*"})
    public InappropriateServiceIntimacyContext getInappropriateServiceIntimacy(@RequestBody RequestContext request){
        int totalNumberOfPairOfMicroservice = 0;
        InappropriateServiceIntimacyContext inappropriateServiceIntimacyContext = new InappropriateServiceIntimacyContext();
        ResponseContext responseContext = restDiscoveryService.generateResponseContext(request);

        for(RestFlow restFlow : responseContext.getRestFlowContext().getRestFlows()){
            totalNumberOfPairOfMicroservice++;
            String jarA = restFlow.getResourcePath();
            for(RestEntity entity : restFlow.getServers()){
                String jarB = entity.getResourcePath();

                // Get two sets of entity objects
                List<String> entitiesA = entityService.getEntitiesPerJar(request, jarA);
                List<String> entitiesB = entityService.getEntitiesPerJar(request, jarB);

                Set<String> result = entitiesA.stream()
                        .distinct()
                        .filter(entitiesB::contains)
                        .collect(Collectors.toSet());    // result = filter หา entity ที่ซ้ำกันของ A กับ B

                // If above a certain threshold (80%) then yes
                double similarity = result.size() * 1.0 / Math.max(entitiesA.size(), entitiesB.size());  // similarity = #entity ที่ซ้ำกัน/ max entity size
                if(similarity > 0.8){
                    inappropriateServiceIntimacyContext.addSharedIntimacy(new SharedIntimacy(restFlow.getResourcePath(), entity.getResourcePath(), similarity));
                }
            }
        }

        //Calculate base metric
        double ratioOfInappropriateDatabaseAccess = 0;
        if (totalNumberOfPairOfMicroservice != 0) {
            ratioOfInappropriateDatabaseAccess = inappropriateServiceIntimacyContext.getCount()/totalNumberOfPairOfMicroservice;
        }

        inappropriateServiceIntimacyContext.setRatioOfInappropriateDatabaseAccess(ratioOfInappropriateDatabaseAccess);

        return inappropriateServiceIntimacyContext;
    }

    @CrossOrigin(origins = "*")
    @RequestMapping(path = "/tooManyStandards", method = RequestMethod.POST, produces = "application/json; charset=UTF-8", consumes = {"text/plain", "application/*"})
    public TooManyStandardsContext getTooManyStandards(@RequestBody RequestContext request){
        return tooManyStandardsService.getStandards(request);
    }

    @CrossOrigin(origins = "*")
    @RequestMapping(path = "/microservicesGreedy", method = RequestMethod.POST, produces = "application/json; charset=UTF-8", consumes = {"text/plain", "application/*"})
    public MicroservicesGreedyContext getMicroservicesGreedy(@RequestBody RequestContext request){
        return greedyService.getGreedyMicroservices(request);
    }
}
